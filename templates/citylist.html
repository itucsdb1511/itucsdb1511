{% extends "layout.html" %}
{% block title %}City List{% endblock %}
{% block content %}
	<h2>City List</h2>
	<style>
		tr td,th{
			padding:5px;
			text-align: center;
		}

	</style>

	<a style="font-weight:Bold" href="{{ url_for('addcity') }}">Add City</a>
	<a style="font-weight:Bold" href="{{ url_for('searchcity') }}">Search City</a>

	<div class="panel-heading">Tournament City List</div>
    <table class="table">
    <thead>
    	<tr>
   			<th>#</th>
    		<th>City Name</th>
    		<th>Country Name</th>
    		<th>Comments</th>
    		<th>Operations</th>
    </tr>
    </thead>
		{% for city in citylist %}
			<tr>
				<td></td>

				<td>{{ city.Name }}</td>
				<td>{{ city.CountryName }}</td>
				<td>
				<a href="{{ url_for('citydelete',id=city.ID) }}">Delete City</a>
				</td>
				<td>
				<a href="{{ url_for('updatecity',id=city.ID) }}">Update City</a>
				</td>
				<td>
					<a href="{{ url_for('addcitycomment',id = city.ID) }}">Add comment for {{ city.Name }} </a>
				</td>
				<td>
					<button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal{{city.ID}}">Comments</button>
					<div id="myModal{{city.ID}}" class="modal fade" role="dialog">
  						<div class="modal-dialog">
  							<div class="modal-content">
      							<div class="modal-header">
        							<button type="button" class="close" data-dismiss="modal">&times;</button>
        							<h4 class="modal-title">Check comments for {{ city.Name }} </h4>
	      						</div>
    	  						<div class="modal-body">
    	  							{% for comment in city.Comments %}
        								<p>{{ comment }}</p>
        							{% endfor %}
	      						</div>
    	  						<div class="modal-footer">
        							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      							</div>
	    					</div>
  						</div>
					</div>
				</td>
			</tr>
		{% endfor %}
	</table>
{% endblock %}
